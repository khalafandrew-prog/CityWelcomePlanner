<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CityWP: London Traveler's Hub</title>
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap" rel="stylesheet">
    <style>
        /* Define the brand colors and font */
        :root {
            --color-brand-navy: rgb(0, 35, 102);
            --color-accent-red: #E32017; /* Emergency / Fast */
            --color-accent-green: #008744; /* Parks / Budget */
            --color-accent-purple: #9B0056; /* Entertainment */
        }

        /* Custom utility classes for the design */
        .bg-brand-navy { background-color: var(--color-brand-navy); }
        .text-brand-navy { color: var(--color-brand-navy); }
        .border-brand-navy { border-color: var(--color-brand-navy); }
        .bg-accent-red { background-color: var(--color-accent-red); }
        .text-accent-red { color: var(--color-accent-red); }
        .font-inter { font-family: 'Inter', sans-serif; }

        /* Smooth page transitions for PWA feel */
        .content-transition {
            transition: opacity 0.3s ease-in-out;
        }

        /* Sticky header and navigation */
        #header {
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1);
        }
        #nav-bar {
            box-shadow: 0 -4px 6px -1px rgba(0, 0, 0, 0.05);
        }

        /* Utility to make CTAs look actionable */
        .action-icon {
            transform: translateY(0);
            transition: transform 0.1s ease-out;
        }
        .action-icon:active {
            transform: translateY(2px);
        }
    </style>
</head>

<body class="bg-gray-50 font-inter text-gray-800">
    <!-- Header: Sticky, Brand Logo, and Login/Auth -->
    <header id="header" class="sticky top-0 z-20 bg-brand-navy text-white p-3 shadow-lg">
        <div class="max-w-4xl mx-auto flex justify-between items-center">
            <div class="flex items-center space-x-2 cursor-pointer" onclick="navigate('home')">
                <!-- Simplified Logo Icon (Human/City Skyline) -->
                <svg class="w-6 h-6 fill-current" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 16H8V8h3v10zm4 0h-3V8h3v10zm3.5-6h-2v-2h2v2z"/>
                </svg>
                <span class="text-xl font-bold tracking-tight">CityWP</span>
            </div>
            <button class="px-3 py-1 bg-white text-brand-navy rounded-full text-sm font-semibold hover:bg-gray-100 transition-colors">Log In</button>
        </div>
    </header>

    <!-- Main Content Area -->
    <main id="content" class="max-w-4xl mx-auto p-4 md:p-6 content-transition"></main>

    <!-- Bottom Navigation Bar (Mobile-first, for quick access) -->
    <nav id="nav-bar" class="fixed bottom-0 left-0 right-0 z-30 bg-white border-t border-gray-200">
        <div class="max-w-4xl mx-auto flex justify-around items-center h-16">
            <button onclick="navigate('home')" class="nav-button flex flex-col items-center justify-center p-2 text-brand-navy active-nav">
                <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>
                <span class="text-xs font-medium">Home</span>
            </button>
            <button onclick="navigate('transport')" class="nav-button flex flex-col items-center justify-center p-2 text-gray-500 hover:text-brand-navy">
                <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24"><path d="M21 17h-2v-4h2v4zm-4 0H7v-4h10v4zm-6-2h2v2h-2v-2zM4 17H3v-4h1v4zm15-8h-2V7h2v2zm-4 0H7V7h10v2zm-6-2h2v2h-2V7zM4 9H3V7h1v2zM2 20h20v-2H2v2z"/></svg>
                <span class="text-xs font-medium">Transport</span>
            </button>
            <button onclick="navigate('attractions')" class="nav-button flex flex-col items-center justify-center p-2 text-gray-500 hover:text-brand-navy">
                <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-1-14h2v2h-2v-2zm0 4h2v8h-2V8z"/></svg>
                <span class="text-xs font-medium">Discover</span>
            </button>
            <button onclick="navigate('emergency')" class="nav-button flex flex-col items-center justify-center p-2 text-gray-500 hover:text-brand-navy">
                <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2L4 22h16L12 2zm1 17h-2v-2h2v2zm0-4h-2V9h2v6z"/></svg>
                <span class="text-xs font-medium">Essentials</span>
            </button>
        </div>
    </nav>

    <script>
        // --- 1. DATA DEFINITION ---
        const NAVY = 'rgb(0, 35, 102)';
        const RED = '#E32017';
        const GREEN = '#008744';
        const PURPLE = '#9B0056';

        const APP_DATA = {
            // Placeholder data for the new structure, based on your files
            transport: [
                { id: 'LHR', airport: 'Heathrow', code: 'LHR', image: 'https://placehold.co/600x200/003399/ffffff?text=Heathrow', options: [
                    { name: 'Heathrow Express', color: RED, time: '15-20 mins', price: 'From ¬£22', label: 'Fastest' },
                    { name: 'TfL Rail', color: GREEN, time: '30-50 mins', price: 'From ¬£10', label: 'Balanced' },
                    { name: 'Piccadilly Line', color: PURPLE, time: '50 mins', price: 'From ¬£6.00', label: 'Budget' }
                ]},
                { id: 'LGW', airport: 'Gatwick', code: 'LGW', image: 'https://placehold.co/600x200/800080/ffffff?text=Gatwick', options: [
                    { name: 'Gatwick Express', color: PURPLE, time: '30-35 mins', price: 'From ¬£17', label: 'Fastest' },
                    { name: 'Southern Train', color: NAVY, time: '30-35 mins', price: 'From ¬£15', label: 'Balanced' },
                    { name: 'Thameslink', color: GREEN, time: '30-45 mins', price: 'From ¬£10', label: 'Budget' }
                ]},
                { id: 'LTN', airport: 'Luton', code: 'LTN', image: 'https://placehold.co/600x200/38761d/ffffff?text=Luton', options: [
                    { name: 'East Midlands Train', color: GREEN, time: '25 mins', price: 'From ¬£27.50', label: 'Fastest' },
                    { name: 'Thameslink', color: NAVY, time: '35 mins', price: 'From ¬£15.70', label: 'Budget' }
                ]},
                { id: 'STN', airport: 'Stansted', code: 'STN', image: 'https://placehold.co/600x200/990000/ffffff?text=Stansted', options: [
                    { name: 'Stansted Express', color: RED, time: '45 mins', price: 'From ¬£16.00', label: 'Fastest' }
                ]},
                { id: 'LCY', airport: 'City', code: 'LCY', image: 'https://placehold.co/600x200/FFCC00/000000?text=City+Airport', options: [
                    { name: 'DLR', color: NAVY, time: '35 mins', price: 'From ¬£3.30', label: 'Direct' }
                ]}
            ],
            attractions: [
                { id: 'BigBen', name: 'Big Ben & Parliament', transport: 'Westminster Station', price: '¬£26.50 (Adult Tour)', image: 'https://placehold.co/400x250/002366/ffffff?text=Big+Ben' },
                { id: 'Harrods', name: 'Harrods', transport: 'Knightsbridge Station', price: 'Free Entry', image: 'https://placehold.co/400x250/228B22/ffffff?text=Harrods' },
                { id: 'Tussauds', name: 'Madame Tussauds', transport: 'Baker Street Station', price: '¬£30.00 (Adult)', image: 'https://placehold.co/400x250/9B0056/ffffff?text=Madame+Tussauds' }
            ],
            emergency: {
                numbers: [
                    { num: '999', name: 'Emergency (Police, Ambulance, Fire)', color: RED, icon: '‚ö°' },
                    { num: '111', name: 'Medical Help (Non-Emergency)', color: NAVY, icon: '‚öïÔ∏è' }
                ],
                embassy: {
                    name: 'Canada House',
                    address: '5 Trafalgar Square, London, SW1 5BJ',
                    phone: '020 7004 6000',
                    hours: 'Mon-Fri, 08:00 am ‚Äì 16:00 pm'
                }
            }
        };

        let currentPage = 'home';
        const contentDiv = document.getElementById('content');
        const navButtons = document.querySelectorAll('.nav-button');

        // --- 2. ROUTING AND RENDERING ---

        /** Updates the URL hash and calls the appropriate renderer. */
        function navigate(pageId) {
            if (pageId === currentPage) return;
            
            currentPage = pageId;
            window.location.hash = `#${pageId}`;
            renderPage(pageId);
        }

        /** Handles rendering content based on the current page. */
        function renderPage(pageId) {
            contentDiv.style.opacity = '0'; // Start transition fade-out

            setTimeout(() => {
                let html = '';
                switch (pageId) {
                    case 'home':
                        html = renderHome();
                        break;
                    case 'transport':
                        html = renderTransport();
                        break;
                    case 'attractions':
                        html = renderAttractions();
                        break;
                    case 'emergency':
                        html = renderEmergency();
                        break;
                    default:
                        html = renderHome(); // Default to home on unknown state
                        break;
                }
                contentDiv.innerHTML = html;
                contentDiv.style.opacity = '1'; // End transition fade-in
                updateActiveNav(pageId);
            }, 300); // Match CSS transition duration
        }

        /** Updates the visual state of the bottom navigation bar. */
        function updateActiveNav(pageId) {
            navButtons.forEach(btn => {
                btn.classList.remove('text-brand-navy', 'active-nav');
                btn.classList.add('text-gray-500', 'hover:text-brand-navy');
                if (btn.getAttribute('onclick').includes(`'${pageId}'`)) {
                    btn.classList.add('text-brand-navy', 'active-nav');
                    btn.classList.remove('text-gray-500');
                }
            });
        }

        // Initial load check
        window.addEventListener('load', () => {
            const initialPage = window.location.hash.substring(1) || 'home';
            // Use navigate() to correctly set hash and render
            navigate(initialPage); 
        });

        // --- 3. PAGE RENDER FUNCTIONS ---

        function renderHome() {
            return `
                <!-- Hero Section with Search and High Impact Image -->
                <div class="relative h-64 sm:h-80 w-full overflow-hidden rounded-xl shadow-lg mb-8">
                    <img src="https://placehold.co/800x600/000000/ffffff?text=Iconic+London+Skyline" alt="London at sunset" class="absolute inset-0 w-full h-full object-cover opacity-80">
                    <div class="absolute inset-0 bg-brand-navy/30"></div>
                    <div class="absolute inset-0 flex flex-col justify-center items-center p-4 text-center">
                        <h1 class="text-3xl sm:text-4xl font-extrabold text-white mb-4 drop-shadow-lg">
                            CITY WELCOME PLANNER
                        </h1>
                        <p class="text-white text-base sm:text-lg font-medium">Your trusted guide to London.</p>
                    </div>
                </div>

                <!-- Action Hub: 4 Primary Icon Links -->
                <div class="grid grid-cols-2 gap-4 mb-8">
                    ${renderActionButton('Transport', 'plane-departure', 'transport', 'bg-brand-navy')}
                    ${renderActionButton('Attractions', 'landmark', 'attractions', 'bg-brand-navy')}
                    ${renderActionButton('Essentials', 'shield-heart', 'emergency', 'bg-accent-red')}
                    ${renderActionButton('Shopping', 'bag-shopping', 'attractions', 'bg-brand-navy', true)}
                </div>

                <!-- Key Facts Card (Currency, Plugs, Code) -->
                <div class="p-5 bg-white rounded-xl shadow-md border-t-4 border-brand-navy">
                    <h2 class="text-xl font-bold mb-3 text-brand-navy">Good to Know</h2>
                    <ul class="space-y-2 text-sm text-gray-700">
                        <li class="flex items-center"><span class="text-lg mr-2">üí∑</span>Uses **British Sterling Pound (¬£)**.</li>
                        <li class="flex items-center"><span class="text-lg mr-2">üîå</span>Plugs are **3-pin (Type G)**.</li>
                        <li class="flex items-center"><span class="text-lg mr-2">üìû</span>Country Code is **+44 (0)**.</li>
                    </ul>
                </div>
            `;
        }

        function renderActionButton(title, iconPath, page, color, shopping = false) {
            // Placeholder SVG icon path
            const iconSvg = shopping 
                ? `<svg class="w-10 h-10 fill-current" viewBox="0 0 24 24"><path d="M18.5 7h-11a.5.5 0 00-.495.433l-1.5 8a.5.5 0 00.495.567h13a.5.5 0 00.495-.567l-1.5-8a.5.5 0 00-.495-.433zM7 7.5h10l1.25 6.667H5.75L7 7.5zM7 17.5a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm10 0a1.5 1.5 0 110-3 1.5 1.5 0 010 3z"/></svg>`
                : `<svg class="w-10 h-10 fill-current" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-1-14h2v2h-2v-2zm0 4h2v8h-2V8z"/></svg>`;

            return `
                <button onclick="navigate('${page}')" class="action-icon ${color} text-white p-6 rounded-xl shadow-xl hover:shadow-2xl flex flex-col items-center justify-center transition-all duration-300">
                    <div class="mb-2">${iconSvg.replace(/24/g, '48')}</div>
                    <span class="text-lg font-bold">${title}</span>
                </button>
            `;
        }


        function renderTransport() {
            const airportCards = APP_DATA.transport.map(airport => `
                <div class="bg-white rounded-xl shadow-lg overflow-hidden border-t-8 border-brand-navy mb-6">
                    <!-- Card Header -->
                    <div class="flex items-center justify-between p-4 bg-brand-navy text-white">
                        <h2 class="text-2xl font-extrabold flex items-center">
                            <span class="text-xl mr-2">‚úàÔ∏è</span> ${airport.airport} <span class="ml-2 px-2 py-0.5 bg-white/20 rounded text-sm">${airport.code}</span>
                        </h2>
                        <span class="text-sm font-medium">To Central London</span>
                    </div>

                    <!-- Transport Options Comparison -->
                    <div class="p-4 space-y-3">
                        ${airport.options.map(option => `
                            <div class="border border-gray-200 p-3 rounded-lg flex justify-between items-center transition-shadow hover:shadow-md">
                                <div class="flex flex-col">
                                    <span class="text-sm font-semibold mb-1" style="color: ${option.color};">${option.name}</span>
                                    <div class="flex items-center space-x-3 text-sm text-gray-600">
                                        <div class="flex items-center">
                                            <span class="font-bold mr-1">Time:</span> ${option.time}
                                        </div>
                                        <div class="flex items-center">
                                            <span class="font-bold mr-1">Price:</span> ${option.price}
                                        </div>
                                    </div>
                                </div>
                                <span class="px-3 py-1 text-xs font-bold text-white rounded-full" style="background-color: ${option.color};">${option.label}</span>
                            </div>
                        `).join('')}
                    </div>

                    <!-- CTA to Live Fares -->
                    <div class="p-4 pt-0">
                        <button class="w-full py-3 bg-brand-navy text-white font-bold rounded-lg shadow-md hover:bg-opacity-90 transition-colors">
                            Check Live Fares & Schedules (External Link) &rarr;
                        </button>
                    </div>
                </div>
            `).join('');

            return `
                <h1 class="text-3xl font-extrabold text-brand-navy mb-6">Transport Hub</h1>
                <p class="mb-6 text-gray-600">Find the fastest and cheapest ways to get from London's major airports to the city center.</p>
                ${airportCards}
            `;
        }

        function renderAttractions() {
            const attractionCards = APP_DATA.attractions.map(attraction => `
                <div class="bg-white rounded-xl shadow-lg overflow-hidden transition-all duration-300 hover:shadow-xl">
                    <img src="${attraction.image}" alt="${attraction.name}" class="w-full h-40 object-cover">
                    <div class="p-4">
                        <h3 class="text-xl font-bold text-brand-navy mb-2">${attraction.name}</h3>
                        <div class="flex items-center justify-between text-sm text-gray-600 mb-3">
                            <span class="flex items-center"><span class="mr-1">üöá</span> ${attraction.transport}</span>
                            <span class="font-bold text-gray-800">${attraction.price}</span>
                        </div>
                        <button class="w-full py-2 bg-brand-navy text-white text-sm font-semibold rounded-lg hover:bg-opacity-90 transition-colors">
                            View Details & Navigate
                        </button>
                    </div>
                </div>
            `).join('');

            return `
                <h1 class="text-3xl font-extrabold text-brand-navy mb-6">Discover London</h1>
                <p class="mb-6 text-gray-600">Explore must-see landmarks, museums, and shopping destinations.</p>
                <div class="grid grid-cols-1 sm:grid-cols-2 gap-6">
                    ${attractionCards}
                </div>
            `;
        }

        function renderEmergency() {
            const embassy = APP_DATA.emergency.embassy;

            const emergencyNumbers = APP_DATA.emergency.numbers.map(item => `
                <div class="p-5 rounded-xl shadow-xl border-4 border-dashed mb-4" style="border-color: ${item.color}; background-color: ${item.color}10;">
                    <div class="flex items-center justify-between mb-3">
                        <span class="text-5xl font-extrabold" style="color: ${item.color};">${item.num}</span>
                        <span class="text-4xl" style="color: ${item.color};">${item.icon}</span>
                    </div>
                    <p class="text-lg font-semibold text-gray-800">${item.name}</p>
                    <button class="mt-4 w-full py-3 text-white font-bold rounded-lg transition-all hover:bg-opacity-90" style="background-color: ${item.color};" onclick="window.location.href='tel:${item.num}'">
                        CALL ${item.num} NOW
                    </button>
                </div>
            `).join('');


            return `
                <h1 class="text-3xl font-extrabold text-accent-red mb-6">Essentials & Safety</h1>
                <p class="mb-6 text-gray-600">Your safety is our priority. These numbers are critical.</p>

                <!-- Emergency Numbers Section -->
                <div class="space-y-6 mb-10">
                    ${emergencyNumbers}
                </div>

                <!-- Embassy Contacts Card (Example: Canada) -->
                <div class="bg-white rounded-xl shadow-lg overflow-hidden p-6 border-l-8 border-brand-navy">
                    <h2 class="text-2xl font-bold text-brand-navy mb-4 flex items-center">
                        <span class="text-xl mr-2">üá®üá¶</span> ${embassy.name} Embassy
                    </h2>

                    <div class="space-y-3 text-gray-700">
                        <div class="flex items-start">
                            <span class="text-lg mr-3 text-brand-navy">üìç</span>
                            <p>${embassy.address} <button class="text-sm text-blue-500 font-medium ml-2 hover:underline" onclick="window.open('https://maps.google.com/?q=${encodeURIComponent(embassy.address)}', '_blank')">[Map]</button></p>
                        </div>
                        <div class="flex items-center">
                            <span class="text-lg mr-3 text-brand-navy">üìû</span>
                            <p>${embassy.phone}</p>
                        </div>
                        <div class="flex items-center">
                            <span class="text-lg mr-3 text-brand-navy">‚è∞</span>
                            <p>${embassy.hours}</p>
                        </div>
                    </div>

                    <div class="flex space-x-4 mt-6">
                        <button class="flex-1 py-3 bg-brand-navy text-white font-bold rounded-lg shadow-md hover:bg-opacity-90 transition-colors" onclick="window.location.href='tel:${embassy.phone}'">
                            Call Embassy
                        </button>
                        <button class="flex-1 py-3 bg-gray-200 text-brand-navy font-bold rounded-lg shadow-md hover:bg-gray-300 transition-colors" onclick="window.open('https://www.gov.uk/world/organisations/high-commission-of-canada-in-the-united-kingdom', '_blank')">
                            Website
                        </button>
                    </div>
                </div>
            `;
        }
    </script>
</body>
</html>
